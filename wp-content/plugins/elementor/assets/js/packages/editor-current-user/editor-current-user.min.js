!function(){"use strict";var e={d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{ensureUser:function(){return l},getCurrentUser:function(){return p},onSetUser:function(){return g},useCurrentUserCapabilities:function(){return d},useSuppressedMessage:function(){return c}});var r=window.elementorV2.query,n=window.elementorV2.httpClient;const s="elementor/v1/user-data/current-user",u={params:{context:"edit"}},i={get:()=>(0,n.httpService)().get(s,u).then(e=>{const{capabilities:t=[],suppressedMessages:r=[]}=e.data;return{capabilities:t,suppressedMessages:r}}),update:e=>(0,n.httpService)().patch(s,{suppressedMessages:e.suppressedMessages})},a="editor-current-user",o=()=>(0,r.useQuery)({queryKey:[a],queryFn:i.get}),c=e=>{const{data:t}=o(),{mutate:n}=(()=>{const e=(0,r.useQueryClient)();return(0,r.useMutation)({mutationFn:i.update,onSuccess:()=>e.invalidateQueries({queryKey:[a]})})})(),s=!!t?.suppressedMessages.includes(e);return[s,()=>{s||n({suppressedMessages:[...t?.suppressedMessages??[],e]})}]},d=()=>{const{data:e}=o();return{canUser:t=>Boolean(e?.capabilities.includes(t)),capabilities:e?.capabilities}},p=()=>(0,r.getQueryClient)().getQueryData([a]);async function l(){return(0,r.getQueryClient)().ensureQueryData({queryKey:[a],queryFn:i.get,retry:!1})}var y=window.elementorV2.editorV1Adapters;function g(e){let t;const n=(0,y.__privateListenTo)((0,y.v1ReadyEvent)(),()=>{const n=(0,r.getQueryClient)();t=n.getQueryCache().subscribe(t=>{t.query.queryKey.includes(a)&&e(t.query.state.data)})});return()=>{t(),n()}}(window.elementorV2=window.elementorV2||{}).editorCurrentUser=t}(),window.elementorV2.editorCurrentUser?.init?.();