/*! For license information please see editor-variables.js.LICENSE.txt */
!function(){"use strict";var e={"./packages/packages/core/editor-variables/src/api.ts":function(e,t,r){r.r(t),r.d(t,{apiClient:function(){return n}});var a=r("@elementor/http-client");const o="elementor/v1/variables",n={list:()=>(0,a.httpService)().get(o+"/list"),create:(e,t,r)=>(0,a.httpService)().post(o+"/create",{type:e,label:t,value:r}),update:(e,t,r)=>(0,a.httpService)().put(o+"/update",{id:e,label:t,value:r}),delete:e=>(0,a.httpService)().post(o+"/delete",{id:e}),restore:(e,t,r)=>{const n={id:e};return t&&(n.label=t),r&&(n.value=r),(0,a.httpService)().post(o+"/restore",n)}}},"./packages/packages/core/editor-variables/src/components/color-variable-creation.tsx":function(e,t,r){r.r(t),r.d(t,{ColorVariableCreation:function(){return ColorVariableCreation}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/editor-ui"),i=r("@elementor/icons"),l=r("@elementor/ui"),c=r("@wordpress/i18n"),p=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),d=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),u=r("./packages/packages/core/editor-variables/src/utils/tracking.ts"),m=r("./packages/packages/core/editor-variables/src/components/fields/color-field.tsx"),v=r("./packages/packages/core/editor-variables/src/components/fields/label-field.tsx");const b="tiny",ColorVariableCreation=({onGoBack:e,onClose:t})=>{const{setValue:r,path:g}=(0,o.useBoundProp)(d.colorVariablePropTypeUtil),[k,f]=(0,a.useState)(""),[y,E]=(0,a.useState)(""),[h,_]=(0,a.useState)(""),closePopover=()=>{f(""),E(""),_(""),t()},C=""===k.trim()||""===y.trim()||!!h;return a.createElement(n.PopoverBody,{height:"auto"},a.createElement(s.PopoverHeader,{icon:a.createElement(a.Fragment,null,e&&a.createElement(l.IconButton,{size:b,"aria-label":(0,c.__)("Go Back","elementor"),onClick:e},a.createElement(i.ArrowLeftIcon,{fontSize:b})),a.createElement(i.BrushIcon,{fontSize:b})),title:(0,c.__)("Create variable","elementor"),onClose:closePopover}),a.createElement(l.Divider,null),a.createElement(o.PopoverContent,{p:2},a.createElement(v.LabelField,{value:y,onChange:e=>{E(e),_("")}}),a.createElement(m.ColorField,{value:k,onChange:e=>{f(e),_("")}}),h&&a.createElement(l.FormHelperText,{error:!0},h)),a.createElement(l.CardActions,{sx:{pt:.5,pb:1}},a.createElement(l.Button,{size:"small",variant:"contained",disabled:C,onClick:()=>{(0,p.createVariable)({value:k,label:y,type:d.colorVariablePropTypeUtil.key}).then(e=>{r(e),closePopover()}).catch(e=>{_(e.message)}),(0,u.trackVariableEvent)({varType:"color",controlPath:g.join("."),action:"save"})}},(0,c.__)("Create","elementor"))))}},"./packages/packages/core/editor-variables/src/components/color-variable-edit.tsx":function(e,t,r){r.r(t),r.d(t,{ColorVariableEdit:function(){return ColorVariableEdit}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/editor-ui"),i=r("@elementor/icons"),l=r("@elementor/ui"),c=r("@wordpress/i18n"),p=r("./packages/packages/core/editor-variables/src/hooks/use-permissions.ts"),d=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),u=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),m=r("./packages/packages/core/editor-variables/src/components/fields/color-field.tsx"),v=r("./packages/packages/core/editor-variables/src/components/fields/label-field.tsx"),b=r("./packages/packages/core/editor-variables/src/components/ui/delete-confirmation-dialog.tsx");const g="tiny",ColorVariableEdit=({onClose:e,onGoBack:t,onSubmit:r,editId:k})=>{const{setValue:f,value:y}=(0,o.useBoundProp)(u.colorVariablePropTypeUtil),[E,h]=(0,a.useState)(!1),[_,C]=(0,a.useState)(""),x=(0,d.useVariable)(k);if(!x)throw new Error("Global color variable not found");const V=(0,p.usePermissions)(),[P,w]=(0,a.useState)(x.value),[S,T]=(0,a.useState)(x.label),maybeTriggerBoundPropChange=()=>{k===y&&f(k)},handleDeleteConfirmation=()=>{h(!0)},I=[];V.canDelete()&&I.push(a.createElement(l.IconButton,{key:"delete",size:g,"aria-label":(0,c.__)("Delete","elementor"),onClick:handleDeleteConfirmation},a.createElement(i.TrashIcon,{fontSize:g})));const A=P===x.value&&S===x.label||!P.trim()||!S.trim()||!!_;return a.createElement(a.Fragment,null,a.createElement(n.PopoverBody,{height:"auto"},a.createElement(s.PopoverHeader,{title:(0,c.__)("Edit variable","elementor"),onClose:e,icon:a.createElement(a.Fragment,null,t&&a.createElement(l.IconButton,{size:g,"aria-label":(0,c.__)("Go Back","elementor"),onClick:t},a.createElement(i.ArrowLeftIcon,{fontSize:g})),a.createElement(i.BrushIcon,{fontSize:g})),actions:I}),a.createElement(l.Divider,null),a.createElement(o.PopoverContent,{p:2},a.createElement(v.LabelField,{value:S,onChange:e=>{T(e),C("")}}),a.createElement(m.ColorField,{value:P,onChange:e=>{w(e),C("")}}),_&&a.createElement(l.FormHelperText,{error:!0},_)),a.createElement(l.CardActions,{sx:{pt:.5,pb:1}},a.createElement(l.Button,{size:"small",variant:"contained",disabled:A,onClick:()=>{(0,d.updateVariable)(k,{value:P,label:S}).then(()=>{maybeTriggerBoundPropChange(),r?.()}).catch(e=>{C(e.message)})}},(0,c.__)("Save","elementor")))),E&&a.createElement(b.DeleteConfirmationDialog,{open:!0,label:S,onConfirm:()=>{(0,d.deleteVariable)(k).then(()=>{maybeTriggerBoundPropChange(),r?.()})},closeDialog:()=>{h(!1)}}))}},"./packages/packages/core/editor-variables/src/components/color-variable-restore.tsx":function(e,t,r){r.r(t),r.d(t,{ColorVariableRestore:function(){return ColorVariableRestore}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/editor-ui"),i=r("@elementor/icons"),l=r("@elementor/ui"),c=r("@wordpress/i18n"),p=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),d=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),u=r("./packages/packages/core/editor-variables/src/utils/validations.ts"),m=r("./packages/packages/core/editor-variables/src/components/fields/color-field.tsx"),v=r("./packages/packages/core/editor-variables/src/components/fields/label-field.tsx"),b=r("./packages/packages/core/editor-variables/src/components/variable-selection-popover.context.tsx");const ColorVariableRestore=({variableId:e,onClose:t,onSubmit:r})=>{const{setValue:g}=(0,o.useBoundProp)(d.colorVariablePropTypeUtil),k=(0,p.useVariable)(e);if(!k)throw new Error("Global color variable not found");const[f,y]=(0,a.useState)(u.ERROR_MESSAGES.DUPLICATED_LABEL),[E,h]=(0,a.useState)(k.label),[_,C]=(0,a.useState)(k.value),x=_===k.value&&E===k.label||!_.trim()||!E.trim()||!!f;return a.createElement(b.PopoverContentRefContextProvider,null,a.createElement(n.PopoverBody,{height:"auto"},a.createElement(s.PopoverHeader,{icon:a.createElement(i.BrushIcon,{fontSize:"tiny"}),title:(0,c.__)("Restore variable","elementor"),onClose:t}),a.createElement(l.Divider,null),a.createElement(o.PopoverContent,{p:2},a.createElement(v.LabelField,{value:E,onChange:e=>{h(e),y("")}}),a.createElement(m.ColorField,{value:_,onChange:e=>{C(e),y("")}}),f&&a.createElement(l.FormHelperText,{error:!0},f)),a.createElement(l.CardActions,{sx:{pt:.5,pb:1}},a.createElement(l.Button,{size:"small",variant:"contained",disabled:x,onClick:()=>{(0,p.restoreVariable)(e,E,_).then(()=>{g(e),r?.()}).catch(e=>{y(e.message)})}},(0,c.__)("Restore","elementor")))))}},"./packages/packages/core/editor-variables/src/components/color-variables-selection.tsx":function(e,t,r){r.r(t),r.d(t,{ColorVariablesSelection:function(){return ColorVariablesSelection}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/editor-ui"),i=r("@elementor/icons"),l=r("@elementor/ui"),c=r("@wordpress/i18n"),p=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),d=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),u=r("./packages/packages/core/editor-variables/src/utils/tracking.ts"),m=r("./packages/packages/core/editor-variables/src/components/ui/color-indicator.tsx"),v=r("./packages/packages/core/editor-variables/src/components/ui/menu-item-content.tsx"),b=r("./packages/packages/core/editor-variables/src/components/ui/no-search-results.tsx"),g=r("./packages/packages/core/editor-variables/src/components/ui/no-variables.tsx"),k=r("./packages/packages/core/editor-variables/src/components/ui/styled-menu-list.tsx");const f="tiny",ColorVariablesSelection=({closePopover:e,onAdd:t,onEdit:r,onSettings:y})=>{const{value:E,setValue:h,path:_}=(0,o.useBoundProp)(d.colorVariablePropTypeUtil),[C,x]=(0,a.useState)(""),{list:V,hasMatches:P,isSourceNotEmpty:w}=(0,p.useFilteredVariables)(C,d.colorVariablePropTypeUtil.key),onAddAndTrack=()=>{t?.(),(0,u.trackVariableEvent)({varType:"color",controlPath:_.join("."),action:"add"})},S=[];t&&S.push(a.createElement(l.IconButton,{key:"add",size:f,onClick:onAddAndTrack},a.createElement(i.PlusIcon,{fontSize:f}))),y&&S.push(a.createElement(l.IconButton,{key:"settings",size:f,onClick:y},a.createElement(i.SettingsIcon,{fontSize:f})));const T=V.map(({value:e,label:t,key:o})=>({type:"item",value:o,label:t,icon:a.createElement(m.ColorIndicator,{size:"inherit",component:"span",value:e}),secondaryText:e,onEdit:r?()=>r?.(o):void 0}));return a.createElement(n.PopoverBody,null,a.createElement(s.PopoverHeader,{title:(0,c.__)("Variables","elementor"),icon:a.createElement(i.ColorFilterIcon,{fontSize:f}),onClose:e,actions:S}),w&&a.createElement(s.PopoverSearch,{value:C,onSearch:e=>{x(e)},placeholder:(0,c.__)("Search","elementor")}),a.createElement(l.Divider,null),w&&P&&a.createElement(s.PopoverMenuList,{items:T,onSelect:t=>{h(t),(0,u.trackVariableEvent)({varType:"color",controlPath:_.join("."),action:"connect"}),e()},onClose:()=>{},selectedValue:E,"data-testid":"color-variables-list",menuListTemplate:k.VariablesStyledMenuList,menuItemContentTemplate:e=>a.createElement(v.MenuItemContent,{item:e})}),!P&&w&&a.createElement(b.NoSearchResults,{searchValue:C,onClear:()=>{x("")},icon:a.createElement(i.BrushIcon,{fontSize:"large"})}),!w&&a.createElement(g.NoVariables,{title:(0,c.__)("Create your first color variable","elementor"),icon:a.createElement(i.BrushIcon,{fontSize:"large"}),onAdd:t}))}},"./packages/packages/core/editor-variables/src/components/fields/color-field.tsx":function(e,t,r){r.r(t),r.d(t,{ColorField:function(){return ColorField}});var a=r("react"),o=r("@elementor/ui"),n=r("@wordpress/i18n"),s=r("./packages/packages/core/editor-variables/src/utils/validations.ts"),i=r("./packages/packages/core/editor-variables/src/components/variable-selection-popover.context.tsx");const ColorField=({value:e,onChange:t})=>{const[r,l]=(0,a.useState)(e),[c,p]=(0,a.useState)(""),d=(0,a.useRef)(null),u=(0,i.usePopoverContentRef)()??d.current;return a.createElement(o.Grid,{container:!0,gap:.75,alignItems:"center"},a.createElement(o.Grid,{item:!0,xs:12},a.createElement(o.FormLabel,{size:"tiny"},(0,n.__)("Value","elementor"))),a.createElement(o.Grid,{item:!0,xs:12},a.createElement(o.UnstableColorField,{size:"tiny",fullWidth:!0,value:r,onChange:e=>{l(e);const r=(0,s.validateValue)(e);p(r),t(r?"":e)},error:c??void 0,slotProps:{colorPicker:{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:-10}}}}),c&&a.createElement(o.FormHelperText,{error:!0},c)))}},"./packages/packages/core/editor-variables/src/components/fields/font-field.tsx":function(e,t,r){r.r(t),r.d(t,{FontField:function(){return FontField}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/icons"),i=r("@elementor/ui"),l=r("@wordpress/i18n"),c=r("./packages/packages/core/editor-variables/src/utils/validations.ts"),p=r("./packages/packages/core/editor-variables/src/components/variable-selection-popover.context.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_extends.apply(null,arguments)}const FontField=({value:e,onChange:t})=>{const[r,d]=(0,a.useState)(e),[u,m]=(0,a.useState)(""),v=(0,a.useRef)(null),b=(0,p.usePopoverContentRef)()??v.current,g=(0,i.usePopupState)({variant:"popover"}),k=(0,n.useFontFamilies)(),f=(0,n.useSectionWidth)();return a.createElement(i.Grid,{container:!0,gap:.75,alignItems:"center"},a.createElement(i.Grid,{item:!0,xs:12},a.createElement(i.FormLabel,{size:"tiny"},(0,l.__)("Value","elementor"))),a.createElement(i.Grid,{item:!0,xs:12},a.createElement(i.UnstableTag,_extends({variant:"outlined",label:r,endIcon:a.createElement(s.ChevronDownIcon,{fontSize:"tiny"})},(0,i.bindTrigger)(g),{fullWidth:!0})),a.createElement(i.Popover,_extends({disablePortal:!0,disableScrollLock:!0,anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:-28}},(0,i.bindPopover)(g)),a.createElement(o.FontFamilySelector,{fontFamilies:k,fontFamily:r,onFontFamilyChange:e=>{(e=>{d(e);const r=(0,c.validateValue)(e);m(r),t(r?"":e)})(e),g.close()},onClose:g.close,sectionWidth:f})),u&&a.createElement(i.FormHelperText,{error:!0},u)))}},"./packages/packages/core/editor-variables/src/components/fields/label-field.tsx":function(e,t,r){r.r(t),r.d(t,{LabelField:function(){return LabelField}});var a=r("react"),o=r("@elementor/ui"),n=r("@wordpress/i18n"),s=r("./packages/packages/core/editor-variables/src/utils/validations.ts");const LabelField=({value:e,onChange:t})=>{const[r,i]=(0,a.useState)(e),[l,c]=(0,a.useState)(""),[p,d]=(0,a.useState)(()=>(0,s.labelHint)(e)),u=(0,a.useId)();return a.createElement(o.Grid,{container:!0,gap:.75,alignItems:"center"},a.createElement(o.Grid,{item:!0,xs:12},a.createElement(o.FormLabel,{htmlFor:u,size:"tiny"},(0,n.__)("Name","elementor"))),a.createElement(o.Grid,{item:!0,xs:12},a.createElement(o.TextField,{id:u,size:"tiny",fullWidth:!0,value:r,error:!!l,onChange:e=>(e=>{i(e);const r=(0,s.validateLabel)(e),a=(0,s.labelHint)(e);c(r),d(r?"":a),t(r?"":e)})(e.target.value),inputProps:{maxLength:s.VARIABLE_LABEL_MAX_LENGTH}}),l&&a.createElement(o.FormHelperText,{error:!0},l),p&&a.createElement(o.FormHelperText,null,p)))}},"./packages/packages/core/editor-variables/src/components/font-variable-creation.tsx":function(e,t,r){r.r(t),r.d(t,{FontVariableCreation:function(){return FontVariableCreation}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/editor-ui"),i=r("@elementor/icons"),l=r("@elementor/ui"),c=r("@wordpress/i18n"),p=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),d=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),u=r("./packages/packages/core/editor-variables/src/utils/tracking.ts"),m=r("./packages/packages/core/editor-variables/src/components/fields/font-field.tsx"),v=r("./packages/packages/core/editor-variables/src/components/fields/label-field.tsx");const b="tiny",FontVariableCreation=({onClose:e,onGoBack:t})=>{const{setValue:r,path:g}=(0,o.useBoundProp)(d.fontVariablePropTypeUtil),[k,f]=(0,a.useState)(""),[y,E]=(0,a.useState)(""),[h,_]=(0,a.useState)(""),closePopover=()=>{f(""),E(""),_(""),e()},C=""===k.trim()||""===y.trim()||!!h;return a.createElement(n.PopoverBody,{height:"auto"},a.createElement(s.PopoverHeader,{icon:a.createElement(a.Fragment,null,t&&a.createElement(l.IconButton,{size:b,"aria-label":(0,c.__)("Go Back","elementor"),onClick:t},a.createElement(i.ArrowLeftIcon,{fontSize:b})),a.createElement(i.TextIcon,{fontSize:b})),title:(0,c.__)("Create variable","elementor"),onClose:closePopover}),a.createElement(l.Divider,null),a.createElement(o.PopoverContent,{p:2},a.createElement(v.LabelField,{value:y,onChange:e=>{E(e),_("")}}),a.createElement(m.FontField,{value:k,onChange:e=>{f(e),_("")}}),h&&a.createElement(l.FormHelperText,{error:!0},h)),a.createElement(l.CardActions,{sx:{pt:.5,pb:1}},a.createElement(l.Button,{size:"small",variant:"contained",disabled:C,onClick:()=>{(0,p.createVariable)({value:k,label:y,type:d.fontVariablePropTypeUtil.key}).then(e=>{r(e),closePopover()}).catch(e=>{_(e.message)}),(0,u.trackVariableEvent)({varType:"font",controlPath:g.join("."),action:"save"})}},(0,c.__)("Create","elementor"))))}},"./packages/packages/core/editor-variables/src/components/font-variable-edit.tsx":function(e,t,r){r.r(t),r.d(t,{FontVariableEdit:function(){return FontVariableEdit}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/editor-ui"),i=r("@elementor/icons"),l=r("@elementor/ui"),c=r("@wordpress/i18n"),p=r("./packages/packages/core/editor-variables/src/hooks/use-permissions.ts"),d=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),u=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),m=r("./packages/packages/core/editor-variables/src/components/fields/font-field.tsx"),v=r("./packages/packages/core/editor-variables/src/components/fields/label-field.tsx"),b=r("./packages/packages/core/editor-variables/src/components/ui/delete-confirmation-dialog.tsx");const g="tiny",FontVariableEdit=({onClose:e,onGoBack:t,onSubmit:r,editId:k})=>{const{setValue:f,value:y}=(0,o.useBoundProp)(u.fontVariablePropTypeUtil),[E,h]=(0,a.useState)(!1),[_,C]=(0,a.useState)(""),x=(0,d.useVariable)(k);if(!x)throw new Error(`Global font variable "${k}" not found`);const V=(0,p.usePermissions)(),[P,w]=(0,a.useState)(x.value),[S,T]=(0,a.useState)(x.label),maybeTriggerBoundPropChange=()=>{k===y&&f(k)},handleDeleteConfirmation=()=>{h(!0)},I=P===x.value&&S===x.label||!P.trim()||!S.trim()||!!_,A=[];return V.canDelete()&&A.push(a.createElement(l.IconButton,{key:"delete",size:g,"aria-label":(0,c.__)("Delete","elementor"),onClick:handleDeleteConfirmation},a.createElement(i.TrashIcon,{fontSize:g}))),a.createElement(a.Fragment,null,a.createElement(n.PopoverBody,{height:"auto"},a.createElement(s.PopoverHeader,{icon:a.createElement(a.Fragment,null,t&&a.createElement(l.IconButton,{size:g,"aria-label":(0,c.__)("Go Back","elementor"),onClick:t},a.createElement(i.ArrowLeftIcon,{fontSize:g})),a.createElement(i.TextIcon,{fontSize:g})),title:(0,c.__)("Edit variable","elementor"),onClose:e,actions:A}),a.createElement(l.Divider,null),a.createElement(o.PopoverContent,{p:2},a.createElement(v.LabelField,{value:S,onChange:e=>{T(e),C("")}}),a.createElement(m.FontField,{value:P,onChange:e=>{w(e),C("")}}),_&&a.createElement(l.FormHelperText,{error:!0},_)),a.createElement(l.CardActions,{sx:{pt:.5,pb:1}},a.createElement(l.Button,{size:"small",variant:"contained",disabled:I,onClick:()=>{(0,d.updateVariable)(k,{value:P,label:S}).then(()=>{maybeTriggerBoundPropChange(),r?.()}).catch(e=>{C(e.message)})}},(0,c.__)("Save","elementor")))),E&&a.createElement(b.DeleteConfirmationDialog,{open:!0,label:S,onConfirm:()=>{(0,d.deleteVariable)(k).then(()=>{maybeTriggerBoundPropChange(),r?.()})},closeDialog:()=>{h(!1)}}))}},"./packages/packages/core/editor-variables/src/components/font-variable-restore.tsx":function(e,t,r){r.r(t),r.d(t,{FontVariableRestore:function(){return FontVariableRestore}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/editor-ui"),i=r("@elementor/icons"),l=r("@elementor/ui"),c=r("@wordpress/i18n"),p=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),d=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),u=r("./packages/packages/core/editor-variables/src/utils/validations.ts"),m=r("./packages/packages/core/editor-variables/src/components/fields/font-field.tsx"),v=r("./packages/packages/core/editor-variables/src/components/fields/label-field.tsx"),b=r("./packages/packages/core/editor-variables/src/components/variable-selection-popover.context.tsx");const FontVariableRestore=({variableId:e,onClose:t,onSubmit:r})=>{const{setValue:g}=(0,o.useBoundProp)(d.fontVariablePropTypeUtil),k=(0,p.useVariable)(e);if(!k)throw new Error(`Global font variable "${e}" not found`);const[f,y]=(0,a.useState)(u.ERROR_MESSAGES.DUPLICATED_LABEL),[E,h]=(0,a.useState)(k.value),[_,C]=(0,a.useState)(k.label),x=E===k.value&&_===k.label||!E.trim()||!_.trim()||!!f;return a.createElement(b.PopoverContentRefContextProvider,null,a.createElement(n.PopoverBody,{height:"auto"},a.createElement(s.PopoverHeader,{icon:a.createElement(i.TextIcon,{fontSize:"tiny"}),title:(0,c.__)("Restore variable","elementor"),onClose:t}),a.createElement(l.Divider,null),a.createElement(o.PopoverContent,{p:2},a.createElement(v.LabelField,{value:_,onChange:e=>{C(e),y("")}}),a.createElement(m.FontField,{value:E,onChange:e=>{h(e),y("")}}),f&&a.createElement(l.FormHelperText,{error:!0},f)),a.createElement(l.CardActions,{sx:{pt:.5,pb:1}},a.createElement(l.Button,{size:"small",variant:"contained",disabled:x,onClick:()=>{(0,p.restoreVariable)(e,_,E).then(()=>{g(e),r?.()}).catch(e=>{y(e.message)})}},(0,c.__)("Restore","elementor")))))}},"./packages/packages/core/editor-variables/src/components/font-variables-selection.tsx":function(e,t,r){r.r(t),r.d(t,{FontVariablesSelection:function(){return FontVariablesSelection}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-editing-panel"),s=r("@elementor/editor-ui"),i=r("@elementor/icons"),l=r("@elementor/ui"),c=r("@wordpress/i18n"),p=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),d=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),u=r("./packages/packages/core/editor-variables/src/utils/tracking.ts"),m=r("./packages/packages/core/editor-variables/src/components/ui/menu-item-content.tsx"),v=r("./packages/packages/core/editor-variables/src/components/ui/no-search-results.tsx"),b=r("./packages/packages/core/editor-variables/src/components/ui/no-variables.tsx"),g=r("./packages/packages/core/editor-variables/src/components/ui/styled-menu-list.tsx");const k="tiny",FontVariablesSelection=({closePopover:e,onAdd:t,onEdit:r,onSettings:f})=>{const{value:y,setValue:E,path:h}=(0,o.useBoundProp)(d.fontVariablePropTypeUtil),[_,C]=(0,a.useState)(""),{list:x,hasMatches:V,isSourceNotEmpty:P}=(0,p.useFilteredVariables)(_,d.fontVariablePropTypeUtil.key),onAddAndTrack=()=>{t?.(),(0,u.trackVariableEvent)({varType:"font",controlPath:h.join("."),action:"add"})},w=[];t&&w.push(a.createElement(l.IconButton,{key:"add",size:k,onClick:onAddAndTrack},a.createElement(i.PlusIcon,{fontSize:k}))),f&&w.push(a.createElement(l.IconButton,{key:"settings",size:k,onClick:f},a.createElement(i.SettingsIcon,{fontSize:k})));const S=x.map(({value:e,label:t,key:o})=>({type:"item",value:o,label:t,icon:a.createElement(i.TextIcon,{fontSize:k}),secondaryText:e,onEdit:r?()=>r?.(o):void 0}));return a.createElement(n.PopoverBody,null,a.createElement(s.PopoverHeader,{title:(0,c.__)("Variables","elementor"),onClose:e,icon:a.createElement(i.ColorFilterIcon,{fontSize:k}),actions:w}),P&&a.createElement(s.PopoverSearch,{value:_,onSearch:e=>{C(e)},placeholder:(0,c.__)("Search","elementor")}),a.createElement(l.Divider,null),P&&V&&a.createElement(s.PopoverMenuList,{items:S,onSelect:t=>{E(t),(0,u.trackVariableEvent)({varType:"font",controlPath:h.join("."),action:"connect"}),e()},onClose:()=>{},selectedValue:y,"data-testid":"font-variables-list",menuListTemplate:g.VariablesStyledMenuList,menuItemContentTemplate:e=>a.createElement(m.MenuItemContent,{item:e})}),!V&&P&&a.createElement(v.NoSearchResults,{searchValue:_,onClear:()=>{C("")},icon:a.createElement(i.TextIcon,{fontSize:"large"})}),!P&&a.createElement(b.NoVariables,{title:(0,c.__)("Create your first font variable","elementor"),icon:a.createElement(i.TextIcon,{fontSize:"large"}),onAdd:t}))}},"./packages/packages/core/editor-variables/src/components/ui/color-indicator.tsx":function(e,t,r){r.r(t),r.d(t,{ColorIndicator:function(){return o}});var a=r("@elementor/ui");const o=(0,a.styled)(a.UnstableColorIndicator)(({theme:e})=>({borderRadius:e.shape.borderRadius/2+"px",marginRight:e.spacing(.25)}))},"./packages/packages/core/editor-variables/src/components/ui/delete-confirmation-dialog.tsx":function(e,t,r){r.r(t),r.d(t,{DeleteConfirmationDialog:function(){return DeleteConfirmationDialog}});var a=r("react"),o=r("@elementor/icons"),n=r("@elementor/ui"),s=r("@wordpress/i18n");const i="delete-variable-dialog",DeleteConfirmationDialog=({open:e,label:t,closeDialog:r,onConfirm:l})=>a.createElement(n.Dialog,{open:e,onClose:r,"aria-labelledby":i,maxWidth:"xs"},a.createElement(n.DialogTitle,{id:i,display:"flex",alignItems:"center",gap:1,sx:{lineHeight:1}},a.createElement(o.AlertOctagonFilledIcon,{color:"error"}),(0,s.__)("Delete this variable?","elementor")),a.createElement(n.DialogContent,null,a.createElement(n.DialogContentText,{variant:"body2",color:"textPrimary"},(0,s.__)("All elements using","elementor"),a.createElement(n.Typography,{variant:"subtitle2",component:"span"}," ",t," "),(0,s.__)("will keep their current values, but the variable itself will be removed.","elementor"))),a.createElement(n.DialogActions,null,a.createElement(n.Button,{color:"secondary",onClick:r},(0,s.__)("Not now","elementor")),a.createElement(n.Button,{variant:"contained",color:"error",onClick:l},(0,s.__)("Delete","elementor"))))},"./packages/packages/core/editor-variables/src/components/ui/deleted-variable-alert.tsx":function(e,t,r){r.r(t),r.d(t,{DeletedVariableAlert:function(){return DeletedVariableAlert}});var a=r("react"),o=r("@elementor/editor-editing-panel"),n=r("@elementor/ui"),s=r("@wordpress/i18n");const DeletedVariableAlert=({onClose:e,onUnlink:t,onRestore:r,label:i})=>{const l=(0,o.useSectionWidth)();return a.createElement(n.ClickAwayListener,{onClickAway:e},a.createElement(n.Alert,{variant:"standard",severity:"warning",onClose:e,action:a.createElement(a.Fragment,null,t&&a.createElement(n.AlertAction,{variant:"contained",onClick:t},(0,s.__)("Unlink","elementor")),r&&a.createElement(n.AlertAction,{variant:"outlined",onClick:r},(0,s.__)("Restore","elementor"))),sx:{width:l}},a.createElement(n.AlertTitle,null,(0,s.__)("Deleted variable","elementor")),(0,s.__)("The variable","elementor")," '",i,"'"," ",(0,s.__)("has been deleted, but it is still referenced in this location. You may restore the variable or unlink it to assign a different value.","elementor")))}},"./packages/packages/core/editor-variables/src/components/ui/menu-item-content.tsx":function(e,t,r){r.r(t),r.d(t,{MenuItemContent:function(){return MenuItemContent}});var a=r("react"),o=r("@elementor/editor-ui"),n=r("@elementor/icons"),s=r("@elementor/ui"),i=r("@wordpress/i18n");const MenuItemContent=({item:e})=>{const t=e.onEdit;return a.createElement(a.Fragment,null,a.createElement(s.ListItemIcon,null,e.icon),a.createElement(s.Box,{sx:{flex:1,minWidth:0,display:"flex",alignItems:"center",gap:1}},a.createElement(o.EllipsisWithTooltip,{title:e.label||e.value,as:s.Typography,variant:"caption",color:"text.primary",sx:{marginTop:"1px",lineHeight:"2"},maxWidth:"50%"}),e.secondaryText&&a.createElement(o.EllipsisWithTooltip,{title:e.secondaryText,as:s.Typography,variant:"caption",color:"text.tertiary",sx:{marginTop:"1px",lineHeight:"1"},maxWidth:"50%"})),!!t&&a.createElement(s.IconButton,{sx:{mx:1,opacity:"0"},onClick:r=>{r.stopPropagation(),t(e.value)},"aria-label":(0,i.__)("Edit","elementor")},a.createElement(n.EditIcon,{color:"action",fontSize:"tiny"})))}},"./packages/packages/core/editor-variables/src/components/ui/missing-variable-alert.tsx":function(e,t,r){r.r(t),r.d(t,{MissingVariableAlert:function(){return MissingVariableAlert}});var a=r("react"),o=r("@elementor/editor-editing-panel"),n=r("@elementor/ui"),s=r("@wordpress/i18n");const MissingVariableAlert=({onClose:e,onClear:t})=>{const r=(0,o.useSectionWidth)();return a.createElement(n.ClickAwayListener,{onClickAway:e},a.createElement(n.Alert,{variant:"standard",severity:"warning",onClose:e,action:a.createElement(a.Fragment,null,t&&a.createElement(n.AlertAction,{variant:"contained",onClick:t},(0,s.__)("Clear","elementor"))),sx:{width:r}},a.createElement(n.AlertTitle,null,(0,s.__)("This variable is missing","elementor")),(0,s.__)("It may have been deleted. Try clearing this field and select a different value or variable.","elementor")))}},"./packages/packages/core/editor-variables/src/components/ui/no-search-results.tsx":function(e,t,r){r.r(t),r.d(t,{NoSearchResults:function(){return NoSearchResults}});var a=r("react"),o=r("@elementor/ui"),n=r("@wordpress/i18n");const NoSearchResults=({searchValue:e,onClear:t,icon:r})=>a.createElement(o.Stack,{gap:1,alignItems:"center",justifyContent:"center",height:"100%",p:2.5,color:"text.secondary",sx:{pb:3.5}},r,a.createElement(o.Typography,{align:"center",variant:"subtitle2"},(0,n.__)("Sorry, nothing matched","elementor"),a.createElement("br",null),"“",e,"”."),a.createElement(o.Typography,{align:"center",variant:"caption",sx:{display:"flex",flexDirection:"column"}},(0,n.__)("Try something else.","elementor"),a.createElement(o.Link,{color:"text.secondary",variant:"caption",component:"button",onClick:t},(0,n.__)("Clear & try again","elementor"))))},"./packages/packages/core/editor-variables/src/components/ui/no-variables.tsx":function(e,t,r){r.r(t),r.d(t,{NoVariables:function(){return NoVariables}});var a=r("react"),o=r("@elementor/ui"),n=r("@wordpress/i18n"),s=r("./packages/packages/core/editor-variables/src/hooks/use-permissions.ts");const NoVariables=({icon:e,title:t,onAdd:r})=>{const i=(0,s.usePermissions)().canAdd();return a.createElement(o.Stack,{gap:1,alignItems:"center",justifyContent:"center",height:"100%",color:"text.secondary",sx:{p:2.5,pb:5.5}},e,i?a.createElement(a.Fragment,null,a.createElement(NoVariablesContent,{title:t||(0,n.__)("Create your first variable","elementor"),message:(0,n.__)("Variables are saved attributes that you can apply anywhere on your site.","elementor")}),r&&a.createElement(o.Button,{variant:"outlined",color:"secondary",size:"small",onClick:r},(0,n.__)("Create a variable","elementor"))):a.createElement(NoVariablesContent,{title:(0,n.__)("There are no variables","elementor"),message:(0,n.__)("With your current role, you can only connect and detach variables.","elementor")}))};function NoVariablesContent({title:e,message:t}){return a.createElement(a.Fragment,null,a.createElement(o.Typography,{align:"center",variant:"subtitle2"},e),a.createElement(o.Typography,{align:"center",variant:"caption",maxWidth:"180px"},t))}},"./packages/packages/core/editor-variables/src/components/ui/styled-menu-list.tsx":function(e,t,r){r.r(t),r.d(t,{VariablesStyledMenuList:function(){return o}});var a=r("@elementor/ui");const o=(0,a.styled)(a.MenuList)(({theme:e})=>({"& > li":{height:32,width:"100%",display:"flex",alignItems:"center"},'& > [role="option"]':{...e.typography.caption,lineHeight:"inherit",padding:e.spacing(.5,1,.5,2),"&:hover, &:focus":{backgroundColor:e.palette.action.hover},'&[aria-selected="true"]':{backgroundColor:e.palette.action.selected},cursor:"pointer",textOverflow:"ellipsis",position:"absolute",top:0,left:0,"&:hover .MuiIconButton-root, .MuiIconButton-root:focus":{opacity:1}},width:"100%",position:"relative"}))},"./packages/packages/core/editor-variables/src/components/ui/tags/assigned-tag.tsx":function(e,t,r){r.r(t),r.d(t,{AssignedTag:function(){return AssignedTag},SIZE:function(){return i}});var a=r("react"),o=r("@elementor/icons"),n=r("@elementor/ui"),s=r("@wordpress/i18n");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_extends.apply(null,arguments)}const i="tiny",AssignedTag=({startIcon:e,label:t,onUnlink:r,...l})=>{const c=[];return r&&c.push(a.createElement(n.IconButton,{key:"unlink",size:i,onClick:r,"aria-label":(0,s.__)("Unlink","elementor")},a.createElement(o.DetachIcon,{fontSize:i}))),a.createElement(n.Tooltip,{title:t,placement:"top"},a.createElement(n.UnstableTag,_extends({fullWidth:!0,showActionsOnHover:!0,startIcon:a.createElement(n.Stack,{gap:.5,direction:"row",alignItems:"center"},e),label:a.createElement(n.Box,{sx:{display:"inline-grid",minWidth:0}},a.createElement(n.Typography,{sx:{lineHeight:1.34},variant:"caption",noWrap:!0},t)),actions:c},l)))}},"./packages/packages/core/editor-variables/src/components/ui/tags/deleted-tag.tsx":function(e,t,r){r.r(t),r.d(t,{DeletedTag:function(){return i}});var a=r("react"),o=r("@elementor/icons"),n=r("@elementor/ui"),s=r("@wordpress/i18n");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_extends.apply(null,arguments)}const i=a.forwardRef(({label:e,onClick:t,...r},i)=>a.createElement(n.Chip,_extends({ref:i,size:"tiny",color:"warning",shape:"rounded",variant:"standard",onClick:t,icon:a.createElement(o.AlertTriangleFilledIcon,null),label:a.createElement(n.Tooltip,{title:e,placement:"top"},a.createElement(n.Box,{sx:{display:"flex",gap:.5,alignItems:"center"}},a.createElement(n.Typography,{variant:"caption",noWrap:!0},e),a.createElement(n.Typography,{variant:"caption",noWrap:!0,sx:{textOverflow:"initial",overflow:"visible"}},"(",(0,s.__)("deleted","elementor"),")"))),sx:{height:e=>e.spacing(3.5),borderRadius:e=>e.spacing(1),justifyContent:"flex-start",width:"100%"}},r)))},"./packages/packages/core/editor-variables/src/components/ui/tags/missing-tag.tsx":function(e,t,r){r.r(t),r.d(t,{MissingTag:function(){return s}});var a=r("react"),o=r("@elementor/icons"),n=r("@elementor/ui");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_extends.apply(null,arguments)}const s=a.forwardRef(({label:e,onClick:t,...r},s)=>a.createElement(n.Chip,_extends({ref:s,size:"tiny",color:"warning",shape:"rounded",variant:"standard",onClick:t,icon:a.createElement(o.AlertTriangleFilledIcon,null),label:e,sx:{height:e=>e.spacing(3.5),borderRadius:e=>e.spacing(1),justifyContent:"flex-start",width:"100%"}},r)))},"./packages/packages/core/editor-variables/src/components/ui/variable/assigned-variable.tsx":function(e,t,r){r.r(t),r.d(t,{AssignedVariable:function(){return AssignedVariable}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/icons"),s=r("@elementor/ui"),i=r("./packages/packages/core/editor-variables/src/components/variable-selection-popover.tsx"),l=r("./packages/packages/core/editor-variables/src/components/ui/tags/assigned-tag.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_extends.apply(null,arguments)}const AssignedVariable=({variable:e,variablePropTypeUtil:t,fallbackPropTypeUtil:r,additionalStartIcon:c})=>{const{setValue:p}=(0,o.useBoundProp)(),d=(0,a.useRef)(null),u=(0,a.useId)(),m=(0,s.usePopupState)({variant:"popover",popupId:`elementor-variables-list-${u}`});return a.createElement(s.Box,{ref:d},a.createElement(l.AssignedTag,_extends({label:e.label,startIcon:a.createElement(a.Fragment,null,a.createElement(n.ColorFilterIcon,{fontSize:l.SIZE}),c),onUnlink:()=>{p(r.create(e.value))}},(0,s.bindTrigger)(m))),a.createElement(s.Popover,_extends({disableScrollLock:!0,anchorEl:d.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{my:1}}},(0,s.bindPopover)(m)),a.createElement(i.VariableSelectionPopover,{selectedVariable:e,closePopover:m.close,propTypeKey:t.key})))}},"./packages/packages/core/editor-variables/src/components/ui/variable/deleted-variable.tsx":function(e,t,r){r.r(t),r.d(t,{DeletedVariable:function(){return DeletedVariable}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/ui"),s=r("./packages/packages/core/editor-variables/src/hooks/use-permissions.ts"),i=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),l=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),c=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),p=r("./packages/packages/core/editor-variables/src/components/color-variable-restore.tsx"),d=r("./packages/packages/core/editor-variables/src/components/font-variable-restore.tsx"),u=r("./packages/packages/core/editor-variables/src/components/ui/deleted-variable-alert.tsx"),m=r("./packages/packages/core/editor-variables/src/components/ui/tags/deleted-tag.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_extends.apply(null,arguments)}const DeletedVariable=({variable:e,variablePropTypeUtil:t,fallbackPropTypeUtil:r})=>{const{setValue:v}=(0,o.useBoundProp)(),b=(0,s.usePermissions)(),[g,k]=(0,a.useState)(!1),closeInfotip=()=>k(!1),f=(0,a.useRef)(null),y=(0,a.useId)(),E=(0,n.usePopupState)({variant:"popover",popupId:`elementor-variables-restore-${y}`}),h={};b.canUnlink()&&(h.onUnlink=()=>{v(r.create(e.value))}),b.canRestore()&&(h.onRestore=()=>{e.key&&(0,i.restoreVariable)(e.key).then(e=>{v(t.create(e)),closeInfotip()}).catch(()=>{closeInfotip(),E.setAnchorEl(f.current),E.open()})});const handleRestoreWithOverrides=()=>{E.close()};return a.createElement(a.Fragment,null,a.createElement(n.Box,{ref:f},g&&a.createElement(n.Backdrop,{open:!0,onClick:closeInfotip,invisible:!0}),a.createElement(n.Infotip,{color:"warning",placement:"right-start",open:g,disableHoverListener:!0,onClose:closeInfotip,content:a.createElement(u.DeletedVariableAlert,{onClose:closeInfotip,onUnlink:h.onUnlink,onRestore:h.onRestore,label:e.label}),slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,24]}}]}}},a.createElement(m.DeletedTag,{label:e.label,onClick:()=>k(e=>!e)})),a.createElement(n.Popover,_extends({disableScrollLock:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{my:1}}},(0,n.bindPopover)(E)),c.fontVariablePropTypeUtil.key===t.key&&a.createElement(d.FontVariableRestore,{variableId:e.key??"",onClose:E.close,onSubmit:handleRestoreWithOverrides}),l.colorVariablePropTypeUtil.key===t.key&&a.createElement(p.ColorVariableRestore,{variableId:e.key??"",onClose:E.close,onSubmit:handleRestoreWithOverrides}))))}},"./packages/packages/core/editor-variables/src/components/ui/variable/missing-variable.tsx":function(e,t,r){r.r(t),r.d(t,{MissingVariable:function(){return MissingVariable}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/ui"),s=r("@wordpress/i18n"),i=r("./packages/packages/core/editor-variables/src/components/ui/missing-variable-alert.tsx"),l=r("./packages/packages/core/editor-variables/src/components/ui/tags/missing-tag.tsx");const MissingVariable=()=>{const{setValue:e}=(0,o.useBoundProp)(),[t,r]=(0,a.useState)(!1),closeInfotip=()=>r(!1);return a.createElement(a.Fragment,null,t&&a.createElement(n.Backdrop,{open:!0,onClick:closeInfotip,invisible:!0}),a.createElement(n.Infotip,{color:"warning",placement:"right-start",open:t,disableHoverListener:!0,onClose:closeInfotip,content:a.createElement(i.MissingVariableAlert,{onClose:closeInfotip,onClear:()=>e(null)}),slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,24]}}]}}},a.createElement(l.MissingTag,{label:(0,s.__)("Missing variable","elementor"),onClick:()=>r(e=>!e)})))}},"./packages/packages/core/editor-variables/src/components/variable-selection-popover.context.tsx":function(e,t,r){r.r(t),r.d(t,{PopoverContentRefContextProvider:function(){return PopoverContentRefContextProvider},usePopoverContentRef:function(){return usePopoverContentRef}});var a=r("react"),o=r("@elementor/ui");const n=(0,a.createContext)(null),PopoverContentRefContextProvider=({children:e})=>{const[t,r]=(0,a.useState)(null);return a.createElement(n.Provider,{value:t},a.createElement(o.Box,{ref:r},e))},usePopoverContentRef=()=>(0,a.useContext)(n)},"./packages/packages/core/editor-variables/src/components/variable-selection-popover.tsx":function(e,t,r){r.r(t),r.d(t,{VariableSelectionPopover:function(){return VariableSelectionPopover}});var a=r("react"),o=r("./packages/packages/core/editor-variables/src/hooks/use-permissions.ts"),n=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),s=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),i=r("./packages/packages/core/editor-variables/src/components/color-variable-creation.tsx"),l=r("./packages/packages/core/editor-variables/src/components/color-variable-edit.tsx"),c=r("./packages/packages/core/editor-variables/src/components/color-variables-selection.tsx"),p=r("./packages/packages/core/editor-variables/src/components/font-variable-creation.tsx"),d=r("./packages/packages/core/editor-variables/src/components/font-variable-edit.tsx"),u=r("./packages/packages/core/editor-variables/src/components/font-variables-selection.tsx"),m=r("./packages/packages/core/editor-variables/src/components/variable-selection-popover.context.tsx");const v="list",b="add",g="edit",VariableSelectionPopover=({closePopover:e,propTypeKey:t,selectedVariable:r})=>{const[k,f]=(0,a.useState)(v),[y,E]=(0,a.useState)("");return a.createElement(m.PopoverContentRefContextProvider,null,function RenderView(e){const t=(0,o.usePermissions)(),r={onClose:()=>{e.closePopover()},onGoBack:()=>{e.setCurrentView(v)}};t.canAdd()&&(r.onAdd=()=>{e.setCurrentView(b)});t.canEdit()&&(r.onEdit=t=>{e.setEditId(t),e.setCurrentView(g)});const handleSubmitOnEdit=()=>{e?.selectedVariable?.key===e.editId?r.onClose():r.onGoBack?.()};if(s.fontVariablePropTypeUtil.key===e.propTypeKey){if(v===e.currentView)return a.createElement(u.FontVariablesSelection,{closePopover:r.onClose,onAdd:r.onAdd,onEdit:r.onEdit});if(b===e.currentView)return a.createElement(p.FontVariableCreation,{onGoBack:r.onGoBack,onClose:r.onClose});if(g===e.currentView)return a.createElement(d.FontVariableEdit,{editId:e.editId,onGoBack:r.onGoBack,onClose:r.onClose,onSubmit:handleSubmitOnEdit})}if(n.colorVariablePropTypeUtil.key===e.propTypeKey){if(v===e.currentView)return a.createElement(c.ColorVariablesSelection,{closePopover:r.onClose,onAdd:r.onAdd,onEdit:r.onEdit});if(b===e.currentView)return a.createElement(i.ColorVariableCreation,{onGoBack:r.onGoBack,onClose:r.onClose});if(g===e.currentView)return a.createElement(l.ColorVariableEdit,{editId:e.editId,onGoBack:r.onGoBack,onClose:r.onClose,onSubmit:handleSubmitOnEdit})}return null}({propTypeKey:t,currentView:k,selectedVariable:r,editId:y,setEditId:E,setCurrentView:f,closePopover:e}))}},"./packages/packages/core/editor-variables/src/components/variables-repeater-item-slot.tsx":function(e,t,r){r.r(t),r.d(t,{BackgroundRepeaterColorIndicator:function(){return BackgroundRepeaterColorIndicator},BackgroundRepeaterLabel:function(){return BackgroundRepeaterLabel},BoxShadowRepeaterColorIndicator:function(){return BoxShadowRepeaterColorIndicator}});var a=r("react"),o=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),n=r("./packages/packages/core/editor-variables/src/components/ui/color-indicator.tsx");const useColorVariable=e=>{const t=e?.value?.color?.value;return(0,o.useVariable)(t||"")},BackgroundRepeaterColorIndicator=({value:e})=>{const t=useColorVariable(e);return a.createElement(n.ColorIndicator,{component:"span",size:"inherit",value:t?.value})},BackgroundRepeaterLabel=({value:e})=>{const t=useColorVariable(e);return a.createElement("span",null,t?.label)},BoxShadowRepeaterColorIndicator=({value:e})=>{const t=useColorVariable(e);return a.createElement(n.ColorIndicator,{component:"span",size:"inherit",value:t?.value})}},"./packages/packages/core/editor-variables/src/controls/color-variable-control.tsx":function(e,t,r){r.r(t),r.d(t,{ColorVariableControl:function(){return ColorVariableControl}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-props"),s=r("./packages/packages/core/editor-variables/src/components/ui/color-indicator.tsx"),i=r("./packages/packages/core/editor-variables/src/components/ui/variable/assigned-variable.tsx"),l=r("./packages/packages/core/editor-variables/src/components/ui/variable/deleted-variable.tsx"),c=r("./packages/packages/core/editor-variables/src/components/ui/variable/missing-variable.tsx"),p=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),d=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts");const ColorVariableControl=()=>{const{value:e}=(0,o.useBoundProp)(d.colorVariablePropTypeUtil),t=(0,p.useVariable)(e);return t?t?.deleted?a.createElement(l.DeletedVariable,{variable:t,variablePropTypeUtil:d.colorVariablePropTypeUtil,fallbackPropTypeUtil:n.colorPropTypeUtil}):a.createElement(i.AssignedVariable,{variable:t,variablePropTypeUtil:d.colorVariablePropTypeUtil,fallbackPropTypeUtil:n.colorPropTypeUtil,additionalStartIcon:a.createElement(s.ColorIndicator,{size:"inherit",value:t.value,component:"span"})}):a.createElement(c.MissingVariable,null)}},"./packages/packages/core/editor-variables/src/controls/font-variable-control.tsx":function(e,t,r){r.r(t),r.d(t,{FontVariableControl:function(){return FontVariableControl}});var a=r("react"),o=r("@elementor/editor-controls"),n=r("@elementor/editor-props"),s=r("./packages/packages/core/editor-variables/src/components/ui/variable/assigned-variable.tsx"),i=r("./packages/packages/core/editor-variables/src/components/ui/variable/deleted-variable.tsx"),l=r("./packages/packages/core/editor-variables/src/components/ui/variable/missing-variable.tsx"),c=r("./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts"),p=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts");const FontVariableControl=()=>{const{value:e}=(0,o.useBoundProp)(p.fontVariablePropTypeUtil),t=(0,c.useVariable)(e);return t?t?.deleted?a.createElement(i.DeletedVariable,{variable:t,variablePropTypeUtil:p.fontVariablePropTypeUtil,fallbackPropTypeUtil:n.stringPropTypeUtil}):a.createElement(s.AssignedVariable,{variable:t,variablePropTypeUtil:p.fontVariablePropTypeUtil,fallbackPropTypeUtil:n.stringPropTypeUtil}):a.createElement(l.MissingVariable,null)}},"./packages/packages/core/editor-variables/src/create-style-variables-repository.ts":function(e,t,r){r.r(t),r.d(t,{createStyleVariablesRepository:function(){return createStyleVariablesRepository}});var a=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),o=r("./packages/packages/core/editor-variables/src/sync/enqueue-font.ts");const createStyleVariablesRepository=()=>{const e={};let t;const shouldUpdate=(t,r)=>!(t in e)||(e[t].label!==r.label||(e[t].value!==r.value||(!(e[t]?.deleted||!r?.deleted)||!(!e[t]?.deleted||r?.deleted)))),fontEnqueue=e=>{if(e)try{(0,o.enqueueFont)(e)}catch{}};return{subscribe:e=>(t=e,()=>{t=()=>{}}),update:r=>{(t=>{let r=!1;for(const[o,n]of Object.entries(t))shouldUpdate(o,n)&&(e[o]=n,n.type===a.fontVariablePropTypeUtil.key&&fontEnqueue(n.value),r=!0);return r})(r)&&"function"==typeof t&&t({...e})}}}},"./packages/packages/core/editor-variables/src/hooks/use-permissions.ts":function(e,t,r){r.r(t),r.d(t,{usePermissions:function(){return usePermissions}});var a=r("@elementor/editor-current-user");const usePermissions=()=>{const{canUser:e}=(0,a.useCurrentUserCapabilities)();return{canAssign:()=>e("edit_posts"),canUnlink:()=>e("edit_posts"),canAdd:()=>e("manage_options"),canDelete:()=>e("manage_options"),canEdit:()=>e("manage_options"),canRestore:()=>e("manage_options"),canManageSettings:()=>e("manage_options")}}},"./packages/packages/core/editor-variables/src/hooks/use-prop-color-variable-action.tsx":function(e,t,r){r.r(t),r.d(t,{usePropColorVariableAction:function(){return usePropColorVariableAction}});var a=r("react"),o=r("@elementor/editor-editing-panel"),n=r("@elementor/icons"),s=r("@wordpress/i18n"),i=r("./packages/packages/core/editor-variables/src/components/variable-selection-popover.tsx"),l=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),c=r("./packages/packages/core/editor-variables/src/utils.ts"),p=r("./packages/packages/core/editor-variables/src/utils/tracking.ts");const usePropColorVariableAction=()=>{const{propType:e,path:t}=(0,o.useBoundProp)();return{visible:!!e&&(0,c.supportsColorVariables)(e),icon:n.ColorFilterIcon,title:(0,s.__)("Variables","elementor"),content:({close:e})=>((0,p.trackVariableEvent)({varType:"color",controlPath:t.join("."),action:"open"}),a.createElement(i.VariableSelectionPopover,{closePopover:e,propTypeKey:l.colorVariablePropTypeUtil.key}))}}},"./packages/packages/core/editor-variables/src/hooks/use-prop-font-variable-action.tsx":function(e,t,r){r.r(t),r.d(t,{usePropFontVariableAction:function(){return usePropFontVariableAction}});var a=r("react"),o=r("@elementor/editor-editing-panel"),n=r("@elementor/icons"),s=r("@wordpress/i18n"),i=r("./packages/packages/core/editor-variables/src/components/variable-selection-popover.tsx"),l=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),c=r("./packages/packages/core/editor-variables/src/utils.ts"),p=r("./packages/packages/core/editor-variables/src/utils/tracking.ts");const usePropFontVariableAction=()=>{const{propType:e,path:t}=(0,o.useBoundProp)();return{visible:!!e&&(0,c.supportsFontVariables)(e),icon:n.ColorFilterIcon,title:(0,s.__)("Variables","elementor"),content:({close:e})=>((0,p.trackVariableEvent)({varType:"font",controlPath:t.join("."),action:"open"}),a.createElement(i.VariableSelectionPopover,{closePopover:e,propTypeKey:l.fontVariablePropTypeUtil.key}))}}},"./packages/packages/core/editor-variables/src/hooks/use-prop-variables.ts":function(e,t,r){r.r(t),r.d(t,{createVariable:function(){return createVariable},deleteVariable:function(){return deleteVariable},restoreVariable:function(){return restoreVariable},updateVariable:function(){return updateVariable},useFilteredVariables:function(){return useFilteredVariables},useVariable:function(){return useVariable}});var a=r("react"),o=r("./packages/packages/core/editor-variables/src/service.ts");const useVariable=e=>{const t=o.service.variables();return t?.[e]?{...t[e],key:e}:null},useFilteredVariables=(e,t)=>{const r=usePropVariables(t),a=r.filter(({label:t})=>t.toLowerCase().includes(e.toLowerCase()));return{list:a,hasMatches:a.length>0,isSourceNotEmpty:r.length>0}},usePropVariables=e=>(0,a.useMemo)(()=>normalizeVariables(e),[e]),normalizeVariables=e=>{const t=o.service.variables();return Object.entries(t).filter(([,t])=>t.type===e&&(({deleted:e})=>!e)(t)).map(([e,{label:t,value:r}])=>({key:e,label:t,value:r}))},createVariable=e=>o.service.create(e).then(({id:e})=>e),updateVariable=(e,{value:t,label:r})=>o.service.update(e,{value:t,label:r}).then(({id:e})=>e),deleteVariable=e=>o.service.delete(e).then(({id:e})=>e),restoreVariable=(e,t,r)=>o.service.restore(e,t,r).then(({id:e})=>e)},"./packages/packages/core/editor-variables/src/init-color-variables.ts":function(e,t,r){r.r(t),r.d(t,{initColorVariables:function(){return initColorVariables}});var a=r("@elementor/editor-canvas"),o=r("@elementor/editor-editing-panel"),n=r("./packages/packages/core/editor-variables/src/controls/color-variable-control.tsx"),s=r("./packages/packages/core/editor-variables/src/hooks/use-prop-color-variable-action.tsx"),i=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),l=r("./packages/packages/core/editor-variables/src/repeater-injections.ts"),c=r("./packages/packages/core/editor-variables/src/transformers/inheritance-transformer.tsx"),p=r("./packages/packages/core/editor-variables/src/transformers/variable-transformer.ts"),d=r("./packages/packages/core/editor-variables/src/utils.ts");const{registerPopoverAction:u}=o.controlActionsMenu;function initColorVariables(){(0,o.registerControlReplacement)({component:n.ColorVariableControl,condition:({value:e})=>(0,d.hasAssignedColorVariable)(e)}),u({id:"color-variables",useProps:s.usePropColorVariableAction}),a.styleTransformersRegistry.register(i.colorVariablePropTypeUtil.key,p.variableTransformer),o.stylesInheritanceTransformersRegistry.register(i.colorVariablePropTypeUtil.key,c.inheritanceTransformer),(0,l.registerRepeaterInjections)()}},"./packages/packages/core/editor-variables/src/init-font-variables.ts":function(e,t,r){r.r(t),r.d(t,{initFontVariables:function(){return initFontVariables}});var a=r("@elementor/editor-canvas"),o=r("@elementor/editor-editing-panel"),n=r("./packages/packages/core/editor-variables/src/controls/font-variable-control.tsx"),s=r("./packages/packages/core/editor-variables/src/hooks/use-prop-font-variable-action.tsx"),i=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts"),l=r("./packages/packages/core/editor-variables/src/transformers/inheritance-transformer.tsx"),c=r("./packages/packages/core/editor-variables/src/transformers/variable-transformer.ts"),p=r("./packages/packages/core/editor-variables/src/utils.ts");const{registerPopoverAction:d}=o.controlActionsMenu;function initFontVariables(){(0,o.registerControlReplacement)({component:n.FontVariableControl,condition:({value:e})=>(0,p.hasAssignedFontVariable)(e)}),d({id:"font-variables",useProps:s.usePropFontVariableAction}),a.styleTransformersRegistry.register(i.fontVariablePropTypeUtil.key,c.variableTransformer),o.stylesInheritanceTransformersRegistry.register(i.fontVariablePropTypeUtil.key,l.inheritanceTransformer)}},"./packages/packages/core/editor-variables/src/init.ts":function(e,t,r){r.r(t),r.d(t,{init:function(){return init}});var a=r("@elementor/editor"),o=r("./packages/packages/core/editor-variables/src/init-color-variables.ts"),n=r("./packages/packages/core/editor-variables/src/init-font-variables.ts"),s=r("./packages/packages/core/editor-variables/src/renderers/style-variables-renderer.tsx"),i=r("./packages/packages/core/editor-variables/src/service.ts");function init(){(0,o.initColorVariables)(),(0,n.initFontVariables)(),i.service.init(),(0,a.injectIntoTop)({id:"canvas-style-variables-render",component:s.StyleVariablesRenderer})}},"./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts":function(e,t,r){r.r(t),r.d(t,{colorVariablePropTypeUtil:function(){return n}});var a=r("@elementor/editor-props"),o=r("@elementor/schema");const n=(0,a.createPropUtils)("global-color-variable",o.z.string())},"./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts":function(e,t,r){r.r(t),r.d(t,{fontVariablePropTypeUtil:function(){return n}});var a=r("@elementor/editor-props"),o=r("@elementor/schema");const n=(0,a.createPropUtils)("global-font-variable",o.z.string())},"./packages/packages/core/editor-variables/src/renderers/style-variables-renderer.tsx":function(e,t,r){r.r(t),r.d(t,{StyleVariablesRenderer:function(){return StyleVariablesRenderer}});var a=r("react"),o=r("@elementor/editor-v1-adapters"),n=r("@elementor/ui"),s=r("./packages/packages/core/editor-variables/src/style-variables-repository.ts"),i=r("./packages/packages/core/editor-variables/src/sync/get-canvas-iframe-document.ts");const l="body";function StyleVariablesRenderer(){const e=function usePortalContainer(){return(0,o.__privateUseListenTo)((0,o.commandEndEvent)("editor/documents/attach-preview"),()=>(0,i.getCanvasIframeDocument)()?.head)}(),t=function useStyleVariables(){const[e,t]=(0,a.useState)({});return(0,a.useEffect)(()=>{const e=s.styleVariablesRepository.subscribe(t);return()=>{e()}},[]),e}(),r=Object.keys(t).length>0;if(!e||!r)return null;const c=function convertToCssVariables(e){return Object.entries(e).map(([e,t])=>function cssVariableDeclaration(e,t){const r=t?.deleted?e:t.label,a=t.value;return`--${r}:${a};`}(e,t)).join("")}(t),p=`${l}{${c}}`;return a.createElement(n.Portal,{container:e},a.createElement("style",{"data-e-style-id":"e-variables",key:p},p))}},"./packages/packages/core/editor-variables/src/repeater-injections.ts":function(e,t,r){r.r(t),r.d(t,{registerRepeaterInjections:function(){return registerRepeaterInjections}});var a=r("@elementor/editor-controls"),o=r("@elementor/editor-props"),n=r("./packages/packages/core/editor-variables/src/components/variables-repeater-item-slot.tsx"),s=r("./packages/packages/core/editor-variables/src/utils.ts");function registerRepeaterInjections(){(0,a.injectIntoRepeaterItemIcon)({id:"color-variables-background-icon",component:n.BackgroundRepeaterColorIndicator,condition:({value:e})=>(0,s.hasAssignedColorVariable)(o.backgroundColorOverlayPropTypeUtil.extract(e)?.color)}),(0,a.injectIntoRepeaterItemIcon)({id:"color-variables-icon",component:n.BoxShadowRepeaterColorIndicator,condition:({value:e})=>(0,s.hasAssignedColorVariable)(o.shadowPropTypeUtil.extract(e)?.color)}),(0,a.injectIntoRepeaterItemLabel)({id:"color-variables-label",component:n.BackgroundRepeaterLabel,condition:({value:e})=>(0,s.hasAssignedColorVariable)(o.backgroundColorOverlayPropTypeUtil.extract(e)?.color)})}},"./packages/packages/core/editor-variables/src/service.ts":function(e,t,r){r.r(t),r.d(t,{service:function(){return c}});var a=r("@wordpress/i18n"),o=r("./packages/packages/core/editor-variables/src/api.ts"),n=r("./packages/packages/core/editor-variables/src/storage.ts"),s=r("./packages/packages/core/editor-variables/src/style-variables-repository.ts"),i=r("./packages/packages/core/editor-variables/src/utils/validations.ts");const l=new n.Storage,c={variables:()=>l.load(),init:()=>{c.load()},load:()=>o.apiClient.list().then(e=>{const{success:t,data:r}=e.data;if(!t)throw new Error("Unexpected response from server");return r}).then(e=>{const{variables:t,watermark:r}=e;return l.fill(t,r),s.styleVariablesRepository.update(t),t}),create:({type:e,label:t,value:r})=>o.apiClient.create(e,t,r).then(e=>{const{success:t,data:r}=e.data;if(!t){const e=r?.message||(0,a.__)("Unexpected response from server","elementor");throw new Error(e)}return r}).then(e=>{const{variable:t,watermark:r}=e;handleWatermark(n.OP_RW,r);const{id:a,...o}=t;return l.add(a,o),s.styleVariablesRepository.update({[a]:o}),{id:a,variable:o}}).catch(e=>{const t=getErrorMessage(e.response);throw t?new Error(t):e}),update:(e,{label:t,value:r})=>o.apiClient.update(e,t,r).then(e=>{const{success:t,data:r}=e.data;if(!t){const e=r?.message||(0,a.__)("Unexpected response from server","elementor");throw new Error(e)}return r}).then(e=>{const{variable:t,watermark:r}=e;handleWatermark(n.OP_RW,r);const{id:a,...o}=t;return l.update(a,o),s.styleVariablesRepository.update({[a]:o}),{id:a,variable:o}}).catch(e=>{const t=getErrorMessage(e.response);throw t?new Error(t):e}),delete:e=>o.apiClient.delete(e).then(e=>{const{success:t,data:r}=e.data;if(!t)throw new Error("Unexpected response from server");return r}).then(e=>{const{variable:t,watermark:r}=e;handleWatermark(n.OP_RW,r);const{id:a,...o}=t;return l.update(a,o),s.styleVariablesRepository.update({[a]:o}),{id:a,variable:o}}),restore:(e,t,r)=>o.apiClient.restore(e,t,r).then(e=>{const{success:t,data:r}=e.data;if(!t)throw new Error("Unexpected response from server");return r}).then(e=>{const{variable:t,watermark:r}=e;handleWatermark(n.OP_RW,r);const{id:a,...o}=t;return l.update(a,o),s.styleVariablesRepository.update({[a]:o}),{id:a,variable:o}}).catch(e=>{const t=getErrorMessage(e.response);throw t?new Error(t):e})},handleWatermark=(e,t)=>{l.watermarkDiff(e,t)&&setTimeout(()=>c.load(),500),l.watermark(t)},getErrorMessage=e=>"duplicated_label"===e?.data?.code?i.ERROR_MESSAGES.DUPLICATED_LABEL:i.ERROR_MESSAGES.UNEXPECTED_ERROR},"./packages/packages/core/editor-variables/src/storage.ts":function(e,t,r){r.r(t),r.d(t,{OP_RW:function(){return n},Storage:function(){return Storage}});const a="elementor-global-variables",o="elementor-global-variables-watermark",n="RW";class Storage{constructor(){this.state={watermark:-1,variables:{}}}load(){return this.state.watermark=parseInt(localStorage.getItem(o)||"-1"),this.state.variables=JSON.parse(localStorage.getItem(a)||"{}"),this.state.variables}fill(e,t){this.state.variables={},e&&Object.keys(e).length&&(this.state.variables=e),this.state.watermark=t,localStorage.setItem(o,this.state.watermark.toString()),localStorage.setItem(a,JSON.stringify(this.state.variables))}add(e,t){this.load(),this.state.variables[e]=t,localStorage.setItem(a,JSON.stringify(this.state.variables))}update(e,t){this.load(),this.state.variables[e]=t,localStorage.setItem(a,JSON.stringify(this.state.variables))}watermark(e){this.state.watermark=e,localStorage.setItem(o,this.state.watermark.toString())}watermarkDiff(e,t){const r=t-this.state.watermark;return n===e?1!==r:"RO"===e&&0!==r}}},"./packages/packages/core/editor-variables/src/style-variables-repository.ts":function(e,t,r){r.r(t),r.d(t,{styleVariablesRepository:function(){return a}});const a=(0,r("./packages/packages/core/editor-variables/src/create-style-variables-repository.ts").createStyleVariablesRepository)()},"./packages/packages/core/editor-variables/src/sync/enqueue-font.ts":function(e,t,r){r.r(t),r.d(t,{enqueueFont:function(){return enqueueFont}});const enqueueFont=(e,t="preview")=>{const r=window;return r.elementor?.helpers?.enqueueFont?.(e,t)??null}},"./packages/packages/core/editor-variables/src/sync/get-canvas-iframe-document.ts":function(e,t,r){function getCanvasIframeDocument(){const e=window;return e.elementor?.$preview?.[0]?.contentDocument}r.r(t),r.d(t,{getCanvasIframeDocument:function(){return getCanvasIframeDocument}})},"./packages/packages/core/editor-variables/src/transformers/inheritance-transformer.tsx":function(e,t,r){r.r(t),r.d(t,{inheritanceTransformer:function(){return d}});var a=r("react"),o=r("@elementor/editor-canvas"),n=r("@elementor/ui"),s=r("@wordpress/i18n"),i=r("./packages/packages/core/editor-variables/src/components/ui/color-indicator.tsx"),l=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),c=r("./packages/packages/core/editor-variables/src/service.ts"),p=r("./packages/packages/core/editor-variables/src/transformers/utils/resolve-css-variable.ts");const d=(0,o.createTransformer)(e=>{const t=c.service.variables()[e];if(!t)return a.createElement("span",null,(0,s.__)("Missing variable","elementor"));const r=t.type===l.colorVariablePropTypeUtil.key,o=(0,p.resolveCssVariable)(e,t);return a.createElement(n.Stack,{direction:"row",spacing:.5,sx:{paddingInline:"1px"},alignItems:"center"},r&&a.createElement(i.ColorIndicator,{size:"inherit",value:t.value}),a.createElement(n.Typography,{variant:"caption",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},o))})},"./packages/packages/core/editor-variables/src/transformers/utils/resolve-css-variable.ts":function(e,t,r){r.r(t),r.d(t,{resolveCssVariable:function(){return resolveCssVariable}});const resolveCssVariable=(e,t)=>{let r=e,a="";return t&&(a=t.value),t&&!t.deleted&&(r=t.label),r.trim()?a.trim()?`var(--${r}, ${a})`:`var(--${r})`:null}},"./packages/packages/core/editor-variables/src/transformers/variable-transformer.ts":function(e,t,r){r.r(t),r.d(t,{variableTransformer:function(){return s}});var a=r("@elementor/editor-canvas"),o=r("./packages/packages/core/editor-variables/src/service.ts"),n=r("./packages/packages/core/editor-variables/src/transformers/utils/resolve-css-variable.ts");const s=(0,a.createTransformer)(e=>{const t=o.service.variables();return t[e]?(0,n.resolveCssVariable)(e,t[e]):null})},"./packages/packages/core/editor-variables/src/utils.ts":function(e,t,r){r.r(t),r.d(t,{hasAssignedColorVariable:function(){return hasAssignedColorVariable},hasAssignedFontVariable:function(){return hasAssignedFontVariable},supportsColorVariables:function(){return supportsColorVariables},supportsFontVariables:function(){return supportsFontVariables}});var a=r("./packages/packages/core/editor-variables/src/prop-types/color-variable-prop-type.ts"),o=r("./packages/packages/core/editor-variables/src/prop-types/font-variable-prop-type.ts");const hasAssignedColorVariable=e=>!!a.colorVariablePropTypeUtil.isValid(e),supportsColorVariables=e=>"union"===e.kind&&a.colorVariablePropTypeUtil.key in e.prop_types,hasAssignedFontVariable=e=>!!o.fontVariablePropTypeUtil.isValid(e),supportsFontVariables=e=>"union"===e.kind&&o.fontVariablePropTypeUtil.key in e.prop_types},"./packages/packages/core/editor-variables/src/utils/tracking.ts":function(e,t,r){r.r(t),r.d(t,{trackVariableEvent:function(){return trackVariableEvent}});const trackVariableEvent=({varType:e,controlPath:t,action:r})=>{const a=window,o=a?.elementor?.editorEvents?.config;if(!o?.names?.variables?.[r])return;const n=o.names.variables[r];a.elementor?.editorEvents?.dispatchEvent(n,{location:o.locations.variables,secondaryLocation:o.secondaryLocations.variablesPopover,trigger:o.triggers.click,var_type:e,control_path:t,action_type:n})}},"./packages/packages/core/editor-variables/src/utils/validations.ts":function(e,t,r){r.r(t),r.d(t,{ERROR_MESSAGES:function(){return o},VARIABLE_LABEL_MAX_LENGTH:function(){return n},labelHint:function(){return labelHint},validateLabel:function(){return validateLabel},validateValue:function(){return validateValue}});var a=r("@wordpress/i18n");const o={MISSING_VARIABLE_NAME:(0,a.__)("Give your variable a name.","elementor"),MISSING_VARIABLE_VALUE:(0,a.__)("Add a value to complete your variable.","elementor"),INVALID_CHARACTERS:(0,a.__)("Use letters, numbers, dashes (-), or underscores (_) for the name.","elementor"),NO_NON_SPECIAL_CHARACTER:(0,a.__)("Names have to include at least one non-special character.","elementor"),VARIABLE_LABEL_MAX_LENGTH:(0,a.__)("Keep names up to 50 characters.","elementor"),DUPLICATED_LABEL:(0,a.__)("This variable name already exists. Please choose a unique name.","elementor"),UNEXPECTED_ERROR:(0,a.__)("There was a glitch. Try saving your variable again.","elementor")},n=50,validateLabel=e=>{if(!e.trim())return o.MISSING_VARIABLE_NAME;if(!/^[a-zA-Z0-9_-]+$/.test(e))return o.INVALID_CHARACTERS;return/[a-zA-Z0-9]/.test(e)?n<e.length?o.VARIABLE_LABEL_MAX_LENGTH:"":o.NO_NON_SPECIAL_CHARACTER},labelHint=e=>.8*n-1<e.length?o.VARIABLE_LABEL_MAX_LENGTH:"",validateValue=e=>e.trim()?"":o.MISSING_VARIABLE_VALUE},"@elementor/editor":function(e){e.exports=window.elementorV2.editor},"@elementor/editor-canvas":function(e){e.exports=window.elementorV2.editorCanvas},"@elementor/editor-controls":function(e){e.exports=window.elementorV2.editorControls},"@elementor/editor-current-user":function(e){e.exports=window.elementorV2.editorCurrentUser},"@elementor/editor-editing-panel":function(e){e.exports=window.elementorV2.editorEditingPanel},"@elementor/editor-props":function(e){e.exports=window.elementorV2.editorProps},"@elementor/editor-ui":function(e){e.exports=window.elementorV2.editorUi},"@elementor/editor-v1-adapters":function(e){e.exports=window.elementorV2.editorV1Adapters},"@elementor/http-client":function(e){e.exports=window.elementorV2.httpClient},"@elementor/icons":function(e){e.exports=window.elementorV2.icons},"@elementor/schema":function(e){e.exports=window.elementorV2.schema},"@elementor/ui":function(e){e.exports=window.elementorV2.ui},"@wordpress/i18n":function(e){e.exports=window.wp.i18n},react:function(e){e.exports=window.React}},t={};function __webpack_require__(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){__webpack_require__.r(r),__webpack_require__.d(r,{init:function(){return e.init}});var e=__webpack_require__("./packages/packages/core/editor-variables/src/init.ts")}(),(window.elementorV2=window.elementorV2||{}).editorVariables=r}(),window.elementorV2.editorVariables?.init?.();
//# sourceMappingURL=editor-variables.js.map