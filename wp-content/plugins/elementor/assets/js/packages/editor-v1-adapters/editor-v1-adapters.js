/*! For license information please see editor-v1-adapters.js.LICENSE.txt */
!function(){"use strict";var e={"./packages/packages/libs/editor-v1-adapters/src/data-hooks/block-command.ts":function(e,t,r){r.r(t),r.d(t,{blockCommand:function(){return blockCommand}});var n=r("./packages/packages/libs/editor-v1-adapters/src/data-hooks/register-data-hook.ts");function blockCommand({command:e,condition:t}){return(0,n.registerDataHook)("dependency",e,e=>!t(e))}},"./packages/packages/libs/editor-v1-adapters/src/data-hooks/register-data-hook.ts":function(e,t,r){r.r(t),r.d(t,{registerDataHook:function(){return registerDataHook}});let n=0;function registerDataHook(e,t,r){const s=window,a=s.$e?.modules?.hookData,o={after:a?.After,dependency:a?.Dependency}[e];if(!o)throw new Error(`Data hook '${e}' is not available`);const i=++n,c=new class extends o{getCommand(){return t}getId(){return`${t}--data--${i}`}apply(e){return r(e)}};return c.register(),c}},"./packages/packages/libs/editor-v1-adapters/src/dispatchers/dispatchers.ts":function(e,t,r){r.r(t),r.d(t,{openRoute:function(){return openRoute},registerRoute:function(){return registerRoute},runCommand:function(){return runCommand},runCommandSync:function(){return runCommandSync}});var n=r("./packages/packages/libs/editor-v1-adapters/src/dispatchers/utils.ts");async function runCommand(e,t,{internal:r=!1}={}){const s=runCommandSync(e,t,{internal:r});return s instanceof Promise?s:(0,n.isJQueryDeferred)(s)?(0,n.promisifyJQueryDeferred)(s):Promise.resolve(s)}function runCommandSync(e,t,{internal:r=!1}={}){const n=window,s=r?n.$e?.internal:n.$e?.run;if(!s){throw new Error(`\`${r?"$e.internal":"$e.run"}()\` is not available`)}return s(e,t)}function openRoute(e){const t=window;if(!t.$e?.route)return Promise.reject("`$e.route()` is not available");try{return Promise.resolve(t.$e.route(e))}catch(e){return Promise.reject(e)}}function registerRoute(e){const t=window;if(!t.$e?.routes?.register)return Promise.reject("`$e.routes.register()` is not available");const r=e.split("/");if(r.length<2)return Promise.reject(`\`${e}\` is an invalid route`);const n=r.pop(),s=r.join("/");try{return Promise.resolve(t.$e.routes.register(s,n,()=>null))}catch(e){return Promise.reject(e)}}},"./packages/packages/libs/editor-v1-adapters/src/dispatchers/utils.ts":function(e,t,r){function isJQueryDeferred(e){return!!e&&"object"==typeof e&&Object.hasOwn(e,"promise")&&Object.hasOwn(e,"then")&&Object.hasOwn(e,"fail")}function promisifyJQueryDeferred(e){return new Promise((t,r)=>{e.then(t,r)})}r.r(t),r.d(t,{isJQueryDeferred:function(){return isJQueryDeferred},promisifyJQueryDeferred:function(){return promisifyJQueryDeferred}})},"./packages/packages/libs/editor-v1-adapters/src/edit-mode.ts":function(e,t,r){r.r(t),r.d(t,{changeEditMode:function(){return changeEditMode},useEditMode:function(){return useEditMode}});var n=r("./packages/packages/libs/editor-v1-adapters/src/hooks/use-listen-to.ts"),s=r("./packages/packages/libs/editor-v1-adapters/src/listeners/index.ts");function useEditMode(){return(0,n.default)((0,s.windowEvent)("elementor/edit-mode/change"),getCurrentEditMode)}function getCurrentEditMode(){return window.elementor.channels.dataEditMode.request("activeMode")}function changeEditMode(e){return window.elementor.changeEditMode(e)}},"./packages/packages/libs/editor-v1-adapters/src/hooks/index.ts":function(e,t,r){r.r(t),r.d(t,{useIsRouteActive:function(){return n.default},useListenTo:function(){return s.default},useRouteStatus:function(){return a.default}});var n=r("./packages/packages/libs/editor-v1-adapters/src/hooks/use-is-route-active.ts"),s=r("./packages/packages/libs/editor-v1-adapters/src/hooks/use-listen-to.ts"),a=r("./packages/packages/libs/editor-v1-adapters/src/hooks/use-route-status.ts")},"./packages/packages/libs/editor-v1-adapters/src/hooks/use-is-route-active.ts":function(e,t,r){r.r(t),r.d(t,{default:function(){return useIsRouteActive}});var n=r("./packages/packages/libs/editor-v1-adapters/src/listeners/index.ts"),s=r("./packages/packages/libs/editor-v1-adapters/src/readers/index.ts"),a=r("./packages/packages/libs/editor-v1-adapters/src/hooks/use-listen-to.ts");function useIsRouteActive(e){return(0,a.default)([(0,n.routeOpenEvent)(e),(0,n.routeCloseEvent)(e)],()=>(0,s.isRouteActive)(e),[e])}},"./packages/packages/libs/editor-v1-adapters/src/hooks/use-listen-to.ts":function(e,t,r){r.r(t),r.d(t,{default:function(){return useListenTo}});var n=r("react"),s=r("./packages/packages/libs/editor-v1-adapters/src/listeners/index.ts");function useListenTo(e,t,r=[]){const[a,o]=(0,n.useState)(()=>t());return(0,n.useEffect)(()=>{const updateState=()=>o(t());return updateState(),(0,s.listenTo)(e,updateState)},r),a}},"./packages/packages/libs/editor-v1-adapters/src/hooks/use-route-status.ts":function(e,t,r){r.r(t),r.d(t,{default:function(){return useRouteStatus}});var n=r("./packages/packages/libs/editor-v1-adapters/src/edit-mode.ts"),s=r("./packages/packages/libs/editor-v1-adapters/src/hooks/use-is-route-active.ts");function useRouteStatus(e,{blockOnKitRoutes:t=!0,allowedEditModes:r=["edit"]}={}){const a=(0,s.default)(e),o=(0,s.default)("panel/global"),i=(0,n.useEditMode)(),c=!r.includes(i);return{isActive:a&&!c,isBlocked:c||t&&o}}},"./packages/packages/libs/editor-v1-adapters/src/listeners/event-creators.ts":function(e,t,r){r.r(t),r.d(t,{commandEndEvent:function(){return commandEndEvent},commandStartEvent:function(){return commandStartEvent},routeCloseEvent:function(){return routeCloseEvent},routeOpenEvent:function(){return routeOpenEvent},v1ReadyEvent:function(){return v1ReadyEvent},windowEvent:function(){return windowEvent}});const commandStartEvent=e=>({type:"command",name:e,state:"before"}),commandEndEvent=e=>({type:"command",name:e,state:"after"}),routeOpenEvent=e=>({type:"route",name:e,state:"open"}),routeCloseEvent=e=>({type:"route",name:e,state:"close"}),windowEvent=e=>({type:"window-event",name:e}),v1ReadyEvent=()=>windowEvent("elementor/initialized")},"./packages/packages/libs/editor-v1-adapters/src/listeners/index.ts":function(e,t,r){r.r(t),r.d(t,{commandEndEvent:function(){return n.commandEndEvent},commandStartEvent:function(){return n.commandStartEvent},dispatchReadyEvent:function(){return o.dispatchReadyEvent},flushListeners:function(){return s.flushListeners},isReady:function(){return a.isReady},listenTo:function(){return s.listenTo},routeCloseEvent:function(){return n.routeCloseEvent},routeOpenEvent:function(){return n.routeOpenEvent},setReady:function(){return a.setReady},v1ReadyEvent:function(){return n.v1ReadyEvent},windowEvent:function(){return n.windowEvent}});var n=r("./packages/packages/libs/editor-v1-adapters/src/listeners/event-creators.ts"),s=r("./packages/packages/libs/editor-v1-adapters/src/listeners/listeners.ts"),a=(r("./packages/packages/libs/editor-v1-adapters/src/listeners/types.ts"),r("./packages/packages/libs/editor-v1-adapters/src/listeners/is-ready.ts")),o=r("./packages/packages/libs/editor-v1-adapters/src/listeners/utils.ts")},"./packages/packages/libs/editor-v1-adapters/src/listeners/is-ready.ts":function(e,t,r){r.r(t),r.d(t,{isReady:function(){return isReady},setReady:function(){return setReady}});let n=!1;function isReady(){return n}function setReady(e){n=e}},"./packages/packages/libs/editor-v1-adapters/src/listeners/listeners.ts":function(e,t,r){r.r(t),r.d(t,{flushListeners:function(){return flushListeners},listenTo:function(){return listenTo}});var n=r("./packages/packages/libs/editor-v1-adapters/src/listeners/is-ready.ts"),s=r("./packages/packages/libs/editor-v1-adapters/src/listeners/utils.ts");const a=new Map;let o=new AbortController;function listenTo(e,t){Array.isArray(e)||(e=[e]);const r=e.map(e=>{const{type:r,name:n}=e;switch(r){case"command":return function registerCommandListener(e,t,r){return registerWindowEventListener(`elementor/commands/run/${t}`,t=>{"command"===t.type&&t.command===e&&r(t)})}(n,e.state,t);case"route":return function registerRouteListener(e,t,r){return registerWindowEventListener(`elementor/routes/${t}`,t=>{"route"===t.type&&t.route.startsWith(e)&&r(t)})}(n,e.state,t);case"window-event":return registerWindowEventListener(n,t)}});return()=>{r.forEach(e=>e())}}function flushListeners(){o.abort(),a.clear(),(0,n.setReady)(!1),o=new AbortController}function registerWindowEventListener(e,t){return!a.has(e)&&(a.set(e,[]),function addListener(e){window.addEventListener(e,function makeEventHandler(e){return t=>{if(!(0,n.isReady)())return;const r=(0,s.normalizeEvent)(t);a.get(e)?.forEach(e=>{e(r)})}}(e),{signal:o.signal})}(e)),a.get(e)?.push(t),()=>{const r=a.get(e);if(!r?.length)return;const n=r.filter(e=>e!==t);a.set(e,n)}}},"./packages/packages/libs/editor-v1-adapters/src/listeners/types.ts":function(e,t,r){r.r(t)},"./packages/packages/libs/editor-v1-adapters/src/listeners/utils.ts":function(e,t,r){r.r(t),r.d(t,{dispatchReadyEvent:function(){return dispatchReadyEvent},normalizeEvent:function(){return normalizeEvent}});var n=r("./packages/packages/libs/editor-v1-adapters/src/listeners/is-ready.ts");function dispatchReadyEvent(){return function getV1LoadingPromise(){const e=window.__elementorEditorV1LoadingPromise;if(!e)return Promise.reject("Elementor Editor V1 is not loaded");return e}().then(()=>{(0,n.setReady)(!0),window.dispatchEvent(new CustomEvent("elementor/initialized"))})}function normalizeEvent(e){return e instanceof CustomEvent&&e.detail?.command?{type:"command",command:e.detail.command,args:e.detail.args,originalEvent:e}:e instanceof CustomEvent&&e.detail?.route?{type:"route",route:e.detail.route,originalEvent:e}:{type:"window-event",event:e.type,originalEvent:e}}},"./packages/packages/libs/editor-v1-adapters/src/readers/index.ts":function(e,t,r){function isRouteActive(e){const t=window;return!!t.$e?.routes?.isPartOf(e)}r.r(t),r.d(t,{isExperimentActive:function(){return isExperimentActive},isRouteActive:function(){return isRouteActive}});const isExperimentActive=e=>{const t=window;return!!t.elementorCommon?.config?.experimentalFeatures?.[e]}},"./packages/packages/libs/editor-v1-adapters/src/undoable/get-history-manager.ts":function(e,t,r){r.r(t),r.d(t,{getHistoryManager:function(){return getHistoryManager}});var n=r("@elementor/utils");const s=(0,n.createError)({code:"history_manager_not_available",message:"Cannot access History manager."});function getHistoryManager(){const e=window,t=e.elementor?.documents?.getCurrent?.()?.history;if(!t)throw new s;return t}},"./packages/packages/libs/editor-v1-adapters/src/undoable/index.ts":function(e,t,r){r.r(t),r.d(t,{undoable:function(){return n.undoable}});var n=r("./packages/packages/libs/editor-v1-adapters/src/undoable/undoable.ts")},"./packages/packages/libs/editor-v1-adapters/src/undoable/undoable.ts":function(e,t,r){r.r(t),r.d(t,{undoable:function(){return undoable}});var n=r("@elementor/utils"),s=r("./packages/packages/libs/editor-v1-adapters/src/undoable/get-history-manager.ts");function undoable(e,t){e.redo??=e.do;const r=t.debounce?(0,n.debounce)(addHistoryItem,t.debounce.wait):addHistoryItem;return n=>{const s=n,a=e;let o=a.do(s);return r({title:normalizeToGenerator(t.title)(s,o),subTitle:normalizeToGenerator(t.subtitle)(s,o),type:"",restore:(e,t)=>{t?o=a.redo(s,o):a.undo(s,o)}}),o}}function normalizeToGenerator(e){return"function"==typeof e?e:()=>e??""}function addHistoryItem(e){(0,s.getHistoryManager)().addItem(e)}},"@elementor/utils":function(e){e.exports=window.elementorV2.utils},react:function(e){e.exports=window.React}},t={};function __webpack_require__(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,__webpack_require__),s.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){__webpack_require__.r(r),__webpack_require__.d(r,{__privateDispatchReadyEvent:function(){return n.dispatchReadyEvent},__privateFlushListeners:function(){return n.flushListeners},__privateIsRouteActive:function(){return s.isRouteActive},__privateListenTo:function(){return n.listenTo},__privateOpenRoute:function(){return e.openRoute},__privateRegisterRoute:function(){return e.registerRoute},__privateRunCommand:function(){return e.runCommand},__privateRunCommandSync:function(){return e.runCommandSync},__privateSetReady:function(){return n.setReady},__privateUseIsRouteActive:function(){return t.useIsRouteActive},__privateUseListenTo:function(){return t.useListenTo},__privateUseRouteStatus:function(){return t.useRouteStatus},blockCommand:function(){return c.blockCommand},changeEditMode:function(){return o.changeEditMode},commandEndEvent:function(){return n.commandEndEvent},commandStartEvent:function(){return n.commandStartEvent},isExperimentActive:function(){return s.isExperimentActive},registerDataHook:function(){return i.registerDataHook},routeCloseEvent:function(){return n.routeCloseEvent},routeOpenEvent:function(){return n.routeOpenEvent},undoable:function(){return a.undoable},useEditMode:function(){return o.useEditMode},v1ReadyEvent:function(){return n.v1ReadyEvent},windowEvent:function(){return n.windowEvent}});var e=__webpack_require__("./packages/packages/libs/editor-v1-adapters/src/dispatchers/dispatchers.ts"),t=__webpack_require__("./packages/packages/libs/editor-v1-adapters/src/hooks/index.ts"),n=__webpack_require__("./packages/packages/libs/editor-v1-adapters/src/listeners/index.ts"),s=__webpack_require__("./packages/packages/libs/editor-v1-adapters/src/readers/index.ts"),a=__webpack_require__("./packages/packages/libs/editor-v1-adapters/src/undoable/index.ts"),o=__webpack_require__("./packages/packages/libs/editor-v1-adapters/src/edit-mode.ts"),i=__webpack_require__("./packages/packages/libs/editor-v1-adapters/src/data-hooks/register-data-hook.ts"),c=__webpack_require__("./packages/packages/libs/editor-v1-adapters/src/data-hooks/block-command.ts")}(),(window.elementorV2=window.elementorV2||{}).editorV1Adapters=r}(),window.elementorV2.editorV1Adapters?.init?.();
//# sourceMappingURL=editor-v1-adapters.js.map